---
/**
 * ServicesShowcase.astro
 * - Sección de servicios con grid de 3 tarjetas
 * - Card central destacada (#f95738) como en el mock
 * - Imágenes en escala de grises, badges y CTA "View All Services"
 */

interface Service {
  title: string;
  excerpt: string;
  href: string;
  img: string;
  featured?: boolean;
}

interface Props {
  eyebrow?: string;
  title?: string;
  ctaText?: string;
  ctaHref?: string;
  services?: Service[];
}

const {
  // eyebrow = "Our Services",
  eyebrow = "Nuestros Servicios",
  // title = "Boost Your Brand with Our Expertise",
  title = "Impulsa tu marca con nuestra experiencia",
  // ctaText = "View All Services",
  ctaText = "Todos los servicios",
  ctaHref = "#services",
  services = [
    {
      title: "Social Media Marketing",
      excerpt:
        "Estrategias que combinan contenido, pauta y reporting para crecer de forma sostenida.",
      href: "#smm",
      img: "https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=1200&auto=format&fit=crop",
    },
    {
      title: "Content Marketing",
      excerpt:
        "Plan editorial, producción y distribución multicanal para atraer y convertir.",
      href: "#content",
      img: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=1200&auto=format&fit=crop",
      featured: true, // ← card destacada (lima)
    },
    {
      title: "Email Marketing",
      excerpt:
        "Automatizaciones, segmentación y pruebas A/B para maximizar el ROI del canal.",
      href: "#email",
      img: "https://images.unsplash.com/photo-1516387938699-a93567ec168e?q=80&w=1200&auto=format&fit=crop",
    },
  ],
} = Astro.props as Props;
---

<section class="relative px-4 py-12 md:py-16">
  <div class="mx-auto max-w-7xl">
  <!-- Banda superior con patrón sutil -->
  <div class="absolute inset-0 -z-10 rounded-t bg-[#0a2540]"></div>
  <div class="absolute left-0 right-0 top-0 -z-10 h-8 rounded-t-3xl [background:repeating-linear-gradient(135deg,_transparent,_transparent_10px,_rgba(255,255,255,0.06)_10px,_rgba(255,255,255,0.06)_20px)]"></div>

  <!-- Header -->
  <div class="mb-8 flex flex-col gap-4 md:mb-10 md:flex-row md:items-start md:justify-between">
    <div class="max-w-2xl">
      <div class="inline-flex items-center gap-2 px-3 py-1 text-xs md:text-3xl font-medium text-white">
        <span class="inline-block h-4 w-4 rounded-full bg-[#f95738]"></span>
        {eyebrow}
      </div>
      <h2 class="mt-3 text-3xl font-bold tracking-tight text-white md:text-6xl">
        {title}
      </h2>
    </div>

    <a
      href={ctaHref}
      class="group inline-flex items-center justify-center gap-2 self-start rounded-full bg-white px-4 py-2 text-sm font-semibold text-[#0a2540] shadow-sm ring-1 ring-black/5 transition hover:shadow-md"
    >
      {ctaText}
      <svg class="size-4 -translate-x-0 transition group-hover:translate-x-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M5 12h14"></path><path d="M13 5l7 7-7 7"></path>
      </svg>
    </a>
  </div>

  <!-- Grid de servicios -->
  <div class="grid gap-5 md:grid-cols-3">
    {services.map((s) => (
      <article
        class={[
          "group relative overflow-hidden rounded-2xl border backdrop-blur",
          s.featured
            ? "border-[#f95738]/40 bg-[#f95738] shadow-[0_10px_30px_rgba(249,87,56,0.35)]"
            : "border-white/10 bg-white/5 shadow-sm",
        ].join(" ")}
      >
        <!-- Top image -->
        <div class="p-4 pb-0 md:p-5 md:pb-0">
          <div class={[
            "h-44 w-full overflow-hidden rounded-xl md:h-52",
            s.featured ? "ring-1 ring-black/10" : "ring-1 ring-white/10",
          ].join(" ")}>
            <img
              src={s.img}
              alt={s.title}
              class={[
                "h-full w-full object-cover transition duration-300",
                s.featured ? "grayscale-0" : "grayscale",
                "group-hover:scale-[1.02]",
              ].join(" ")}
              loading="lazy"
            />
          </div>
        </div>

        <!-- Body -->
        <div class="p-4 md:p-5">
          <h3 class={[
            "text-lg font-semibold",
            s.featured ? "text-[#0a2540]" : "text-white",
          ].join(" ")}>
            {s.title}
          </h3>
          <p class={[
            "mt-1 text-sm leading-relaxed",
            s.featured ? "text-[#0a2540]/80" : "text-white/70",
          ].join(" ")}>
            {s.excerpt}
          </p>

          <a
            href={s.href}
            class={[
              "mt-3 inline-flex items-center gap-1 text-sm font-semibold",
              s.featured
                ? "text-[#0a2540] hover:opacity-90"
                : "text-white hover:text-white/90",
            ].join(" ")}
          >
            Learn more
            <svg class="size-4 transition -translate-x-0 group-hover:translate-x-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14"></path><path d="M13 5l7 7-7 7"></path>
            </svg>
          </a>
        </div>

        <!-- Borde/Glow al hover -->
        <div class={[
          "pointer-events-none absolute inset-0 rounded-2xl transition",
          s.featured
            ? "ring-2 ring-[#0a2540]/10"
            : "ring-1 ring-white/10 group-hover:ring-white/20",
        ].join(" ")}></div>
      </article>
    ))}
  </div></div>
</section>
